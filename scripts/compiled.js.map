{"version":3,"sources":["main.js"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACR,QAAI,MAAM,GAAI,SAAV,MAAM,CAAK,IAAI,EAAC,QAAQ,EAAC,MAAM,EAAK;AACpC,YAAI,MAAM,GAAG,EAAE,CAAA;AACf,YAAI,QAAQ,GAAG,CAAC;AACZ,iBAAK,EAAE,gCAAgC;AACvC,qBAAS,EAAE,uBAAuB;AAClC,uBAAW,EAAE,uBAAuB;AACpC,yBAAa,EAAE,wBAAwB;AACvC,2BAAe,EAAE,qBAAqB;AACtC,gBAAI,EAAE,EAAE;SACX,CAAC,CAAC;AACH,YAAI,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC;AAC7B,aAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACpC,gBAAI,SAAS,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;AACpC,gBAAI,IAAI,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC;AAC/B,gBAAG,QAAQ,IAAI,IAAI,CAAC,OAAO,EAAE,IAAI,MAAM,IAAI,IAAI,CAAC,OAAO,EAAE,EAAE;AACvD,sBAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACvB,wBAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aACtC;SACJ;AACD,eAAO,EAAC,MAAM,EAAN,MAAM,EAAC,QAAQ,EAAR,QAAQ,EAAC,CAAC;KAC5B,AAAC,CAAC;;AAEH,QAAI,MAAM,GAAI,SAAV,MAAM,CAAK,QAAQ,EAAK;AACxB,YAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;AAChE,YAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;AAClE,yGAA+F,QAAQ,aAAQ,SAAS,gBAAa;KACxI,AAAC,CAAC;;AAEH,QAAI,eAAe,GAAG,IAAI,OAAO,CAAC,UAAC,OAAO,EAAC,MAAM,EAAK;AAClD,iBAAS,CAAC,WAAW,CAAC,kBAAkB,CAAC,UAAC,QAAQ,EAAC,GAAG,EAAK;AACvD,gBAAG,GAAG,EAAE;AACJ,sBAAM,CAAC,GAAG,CAAC,CAAC;aACf;AACD,mBAAO,CAAC,QAAQ,CAAC,CAAC;SACrB,CAAC,CAAC;KACN,CAAC,CAAC;;AAEH,mBAAe,CACV,IAAI,CAAC,UAAC,QAAQ,EAAK;AAChB,eAAO,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;KAClC,CAAC,CACD,IAAI,CAAC,UAAA,QAAQ;eAAI,QAAQ,CAAC,IAAI,EAAE;KAAA,CAAC,CACjC,IAAI,CAAC,UAAA,IAAI,EAAI;AACV,YAAI,GAAG,GAAG,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AAC9D,YAAI,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;AACjC,YAAI,QAAQ,GAAG,KAAK,GAAG,CAAC,CAAC;AACzB,YAAI,UAAU,GAAG,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAC,KAAK,EAAC,QAAQ,CAAC,EAAC;AAC7D,sBAAU,EAAE,IAAI;AAChB,wBAAY,EAAE,KAAK;AACnB,6BAAiB,EAAE,KAAK;SAC3B,CAAC,CAAC;AACH,YAAI,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;AAC/C,cAAM,CAAC,SAAS,IAAI,4BAA4B,CAAC;AACjD,cAAM,CAAC,SAAS,GAAG,QAAQ,CAAA;KAC9B,CAAC,SACI,CAAC,UAAA,GAAG,EAAI;AACV,eAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KACpB,CAAC,CAAC;CACV,CAAA,EAAG,CAAC","file":"compiled.js","sourcesContent":["(function() {\n    let config = ((data,fromDate,toDate) => {\n        var labels = []\n        var datasets = [{\n            label: 'Current weather data from SMHI',\n            fillColor: \"rgba(151,187,205,0.5)\",\n            strokeColor: \"rgba(151,187,205,0.8)\",\n            highlightFill: \"rgba(151,187,205,0.75)\",\n            highlightStroke: \"rgba(151,187,205,1)\",\n            data: []\n        }];\n        let series = data.timeseries;\n        for (var i = 0; i < series.length; i++) {\n            let validTime = series[i].validTime;\n            let date = new Date(validTime);\n            if(fromDate <= date.getDate() && toDate >= date.getDate()) {\n                labels.push(validTime);\n                datasets[0].data.push(series[i].t);\n            }\n        }\n        return {labels,datasets};\n    });\n\n    let getURL = ((position) => {\n        let latitude = Math.round(position.coords.latitude * 100) / 100;\n        let longitude = Math.round(position.coords.longitude * 100) / 100;\n        return `http://opendata-download-metfcst.smhi.se/api/category/pmp1.5g/version/1/geopoint/lat/${latitude}/lon/${longitude}/data.json`;\n    });\n\n    let locationPromise = new Promise((resolve,reject) => {\n        navigator.geolocation.getCurrentPosition((position,err) => {\n            if(err) {\n                reject(err);\n            }\n            resolve(position);\n        });\n    });\n\n    locationPromise\n        .then((position) => {\n            return fetch(getURL(position));\n        })\n        .then(response => response.json())\n        .then(data => {\n            let ctx = document.getElementById(\"myChart\").getContext(\"2d\");\n            let today = new Date().getDate();\n            let tomorrow = today + 1;\n            let myNewChart = new Chart(ctx).Line(config(data,today,tomorrow),{\n                responsive: true,\n                showTooltips: false,\n                scaleIntegersOnly: false\n            });\n            let footer = document.getElementById('footer');\n            footer.innerHTML += 'Christopher Lillthors 2015';\n            footer.className = 'footer'\n        })\n        .catch(err => {\n            console.log(err);\n        });\n})();"]}